<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdn.tailwindcss.com">
  <link rel="preconnect" href="https://unpkg.com">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="title">Agriforland - Nos Projets</title>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Charger la police Phosphor Icons -->
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <link href="css/Style.css" rel="stylesheet">
  <!-- Phosphor Icons -->
  <link rel="stylesheet" href="https://unpkg.com/@phosphor-icons/web@2.0.3/src/bold/style.css">
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZKKVQJJCYG"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ZKKVQJJCYG');
  </script>

<style>
  /* Focus pour accessibilité */
  .filter-btn:focus {
    outline: 2px solid #a9cf46;
    outline-offset: 2px;
  }

  /* Animation pour les cartes */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .animate-fadeIn {
    animation: fadeInUp 0.6s ease-out;
  }
</style>

</head>

<body class="bg-[#f6ffde] text-black">
  <!-- Preloader -->
  <div id="preloader" class="fixed inset-0 bg-[#f6ffde] z-50 flex items-center justify-center">
    <div class="animate-triangle w-32 h-32">
      <img src="images/triangle-svgrepo-com.svg"  alt="Chargement..." loading="lazy" class="w-full h-full object-contain triangle-img">
    </div>
  </div>  
  <header class="bg-white shadow-md sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
      <img 
          src="cache/logo-198x66-800.webp" 
          srcset="
              cache/logo-198x66-480.webp 480w, 
              cache/logo-198x66-800.webp 800w, 
              cache/logo-198x66-1200.webp 1200w
          "
          sizes="(max-width: 600px) 480px, (max-width: 1000px) 800px, 1200px"
          alt="Logo Agriforland" 
          loading="lazy" 
          class="h-10"
      >
      <!-- Menu Burger pour mobile -->
<button id="menu-toggle" class="md:hidden text-gray-700 focus:outline-none" aria-label="Ouvrir le menu">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
              viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
      <!-- Boutons (desktop) -->
      <div class="hidden md:flex gap-3 items-center ml-auto">
        <!-- Language Selector -->
        <div class="relative inline-block text-left">
          <select id="language-selector" class="block appearance-none bg-white border border-gray-300 hover:border-gray-500 px-2 py-1 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline">
            <option value="fr" data-icon="images/fr.webp">Français</option>
            <option value="en" data-icon="images/en.webp">English</option>
          </select>
          <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2">
            <img id="language-icon" loading="lazy" src="images/fr.webp" alt="Language" class="h-5 w-5">
          </div>
        </div>
        <a href="recrutement.html" class="bg-[#759916] text-white px-4 py-2 rounded-md hover:text-black hover:bg-[#ade126] transition text-sm whitespace-nowrap" data-i18n="join_us">
          Nous Rejoindre
        </a>
        <a href="contact.html" class="border border-gray-500 px-4 py-2 rounded-md hover:text-black hover:bg-[#f6ffde] transition text-sm whitespace-nowrap" data-i18n="contact_us">
          Nous Contacter
        </a>
      </div>
    </div>

    <!-- Navigation Desktop -->
    <div class="border-t border-gray-100 bg-[#f6ffde] hidden md:block">
      <nav class="max-w-7xl mx-auto px-4 py-3 flex justify-center gap-8 text-lg">
        <a href="index.php" class="nav-link hover:text-[#a9cf46] transition-colors" data-i18n="home">Accueil</a>
        <a href="about.php" class="nav-link hover:text-[#a9cf46] transition-colors" data-i18n="about">À Propos</a>
        <a href="poles.html" class="nav-link hover:text-[#a9cf46] transition-colors" data-i18n="poles">Nos Pôles</a>
        <a href="projets.html" class="nav-link hover:text-[#a9cf46] transition-colors" data-i18n="projects">Nos Projets</a>
        <a href="blog.php" class="nav-link hover:text-[#a9cf46] transition-colors" data-i18n="blog">Blog</a>
        <a href="portfolios.php" class="nav-link hover:text-[#a9cf46] transition-colors" data-i18n="portfolios">Portfolio</a>
      </nav>
    </div>

    <!-- Menu Mobile -->
    <div id="mobile-menu" class="md:hidden hidden bg-[#f6ffde] px-4 pb-4">
      <nav class="flex flex-col gap-3 text-base">
        <a href="index.php" class="nav-link hover:text-[#a9cf46] transition" data-i18n="home">Accueil</a>
        <a href="about.php" class="nav-link hover:text-[#a9cf46] transition" data-i18n="about">À Propos</a>
        <a href="poles.html" class="nav-link hover:text-[#a9cf46] transition" data-i18n="poles">Nos Pôles</a>
        <a href="projets.html" class="nav-link hover:text-[#a9cf46] transition" data-i18n="projects">Nos Projets</a>
        <a href="blog.php" class="nav-link hover:text-[#a9cf46] transition" data-i18n="blog">Blog</a>
        <a href="portfolios.php" class="nav-link hover:text-[#a9cf46] transition-colors" data-i18n="portfolios">Portfolio</a>
      </nav>
      <div class="mt-4 flex flex-col gap-2">
        <!-- Language Selector for Mobile -->
        <div class="relative inline-block text-left">
          <select id="language-selector-mobile" class="block appearance-none bg-white border border-gray-300 hover:border-gray-500 px-2 py-1 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline w-full">
            <option value="fr" loading="lazy" data-icon="images/fr.webp">Français</option>
            <option value="en" loading="lazy" data-icon="images/en.webp">English</option>
          </select>
          <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2">
            <img id="language-icon-mobile" loading="lazy" src="images/fr.webp" alt="Language" class="h-5 w-5">
          </div>
        </div>
        <a href="recrutement.html" class="bg-[#759916] text-white px-4 py-2 rounded-md text-center text-sm hover:bg-[#ade126] transition" data-i18n="join_us">Nous Rejoindre</a>
        <a href="contact.html" class="border border-gray-500 px-4 py-2 rounded-md text-center text-sm hover:bg-white transition" data-i18n="contact_us">Nous contacter</a>
      </div>
    </div>
  </header>

  <!-- Nos projets -->
  <section class="bg-[#fff] pb-12">
    <div class="h-48 sm:h-56 md:h-64 relative flex items-center justify-center">
      <img 
          src="cache/mdd-800.webp" 
          srcset="
              cache/mdd-480.webp 480w, 
              cache/mdd-800.webp 800w, 
              cache/mdd-1200.webp 1200w
          "
          sizes="(max-width: 600px) 480px, (max-width: 1000px) 800px, 1200px"
          alt="Nos projets background" 
          loading="lazy" 
          class="w-full h-full object-cover"
      >

      <h2 class="absolute text-2xl sm:text-3xl md:text-4xl lg:text-5xl text-white font-bold font-kanit text-center px-4 leading-tight" data-i18n="our_projects">Nos projets</h2>
    </div>
  </section>

  <section id="mes-projets" class="px-4 sm:px-6 md:px-8 py-8 sm:py-10 bg-[#f6ffde] font-['Kanit']">
    <!-- Barre de recherche -->
    <div class="flex justify-center mb-6">
      <div class="relative w-full max-w-xl">
        <input
          type="text"
          id="searchInput"
          placeholder="Rechercher un projet..."
          data-i18n-placeholder="search_project"
          onkeyup="filtrerProjets()"
          class="w-full border-2 border-[#a9cf46] rounded-full py-3 pl-5 pr-12 focus:outline-none focus:ring-2 focus:ring-[#759916] text-sm sm:text-base shadow-sm transition-all duration-300"/>
        <i class="fa fa-search absolute top-1/2 right-4 transform -translate-y-1/2 text-[#759916]"></i>
      </div>
    </div>

    <!-- Filtres -->
<div id="project-filters" class="flex flex-wrap justify-center gap-2 sm:gap-3 mb-8">
  <button class="filter-btn active bg-[#a9cf46] text-white font-medium sm:font-semibold px-3 sm:px-4 py-2 text-xs sm:text-sm md:text-base rounded-full hover:bg-[#759916] transition" data-category="all" onclick="filtrerCategorie('all')" data-i18n="all">Tous</button>
  
  <button class="filter-btn bg-white border border-[#a9cf46] text-[#759916] font-medium sm:font-semibold px-3 sm:px-4 py-2 text-xs sm:text-sm md:text-base rounded-full hover:bg-[#a9cf46] hover:text-white transition" data-category="Agroforesterie" onclick="filtrerCategorie('Agroforesterie')" data-i18n="agroforestry">Agroforesterie</button>
  
  <button class="filter-btn bg-white border border-[#a9cf46] text-[#759916] font-medium sm:font-semibold px-3 sm:px-4 py-2 text-xs sm:text-sm md:text-base rounded-full hover:bg-[#a9cf46] hover:text-white transition" data-category="Mapping/Cartographie" onclick="filtrerCategorie('Mapping/Cartographie')" data-i18n="mapping">Mapping/Cartographie</button>
  
  <button class="filter-btn bg-white border border-[#a9cf46] text-[#759916] font-medium sm:font-semibold px-3 sm:px-4 py-2 text-xs sm:text-sm md:text-base rounded-full hover:bg-[#a9cf46] hover:text-white transition" data-category="Communication" onclick="filtrerCategorie('Communication')" data-i18n="communication">Communication</button>
  
  <button class="filter-btn bg-white border border-[#a9cf46] text-[#759916] font-medium sm:font-semibold px-3 sm:px-4 py-2 text-xs sm:text-sm md:text-base rounded-full hover:bg-[#a9cf46] hover:text-white transition" data-category="Elevage" onclick="filtrerCategorie('Elevage')" data-i18n="livestock">Élevage</button>
  
  <button class="filter-btn bg-white border border-[#a9cf46] text-[#759916] font-medium sm:font-semibold px-3 sm:px-4 py-2 text-xs sm:text-sm md:text-base rounded-full hover:bg-[#a9cf46] hover:text-white transition" data-category="Developpement Durable" onclick="filtrerCategorie('Developpement Durable')" data-i18n="sustainable_development">Développement Durable</button>
  
  <button class="filter-btn bg-white border border-[#a9cf46] text-[#759916] font-medium sm:font-semibold px-3 sm:px-4 py-2 text-xs sm:text-sm md:text-base rounded-full hover:bg-[#a9cf46] hover:text-white transition" data-category="En Cours" onclick="filtrerCategorie('En Cours')" data-i18n="ongoing">En Cours</button>
  
  <button class="filter-btn bg-white border border-[#a9cf46] text-[#759916] font-medium sm:font-semibold px-3 sm:px-4 py-2 text-xs sm:text-sm md:text-base rounded-full hover:bg-[#a9cf46] hover:text-white transition" data-category="Reforestation" onclick="filtrerCategorie('Reforestation')" data-i18n="reforestation">Reforestation</button>
</div>

    <!-- Grille des projets -->
    <div id="projects-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
      <!-- Projets injectés dynamiquement ici -->
    </div>

    <!-- Pagination -->
    <div id="pagination" class="flex justify-center mt-8 space-x-2"></div>
  </section>

  <!-- Footer -->
  <footer class="bg-[#3a3a3a] text-white py-12">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex flex-col md:flex-row justify-between items-center border-b border-white/20 pb-6">
        <!-- Logo aligné à gauche -->
        <div class="mb-4 md:mb-0">
          <img 
            src="cache/logo-inverse-198x66-800.webp" 
            srcset="
              cache/logo-inverse-198x66-480.webp 480w, 
              cache/logo-inverse-198x66-800.webp 800w, 
              cache/logo-inverse-198x66-1200.webp 1200w
            "
            sizes="(max-width: 600px) 480px, (max-width: 1000px) 800px, 1200px"
            loading="lazy" 
            alt="" 
            data-alt-i18n="agriforland_logo"
            class="h-12"
          />
        </div>
        <!-- Réseaux sociaux alignés à droite -->
        <div class="text-center md:text-right">
          <p class="font-bold mb-2" data-i18n="follow_us">SUIVEZ-NOUS</p>
          <div class="flex justify-center md:justify-end gap-4 text-2xl">
            <a class="hover:text-[#a9cf46] transition-colors" href="#" aria-label="" data-aria-i18n="facebook"><i class="ph ph-facebook-logo"></i></a>
            <a class="hover:text-[#a9cf46] transition-colors" href="#" aria-label="" data-aria-i18n="instagram"><i class="ph ph-instagram-logo"></i></a>
            <a class="hover:text-[#a9cf46] transition-colors" href="#" aria-label="" data-aria-i18n="twitter"><i class="ph ph-twitter-logo"></i></a>
            <a class="hover:text-[#a9cf46] transition-colors" href="#" aria-label="" data-aria-i18n="linkedin"><i class="ph ph-linkedin-logo"></i></a>
          </div>
        </div>
      </div>
      <div class="grid md:grid-cols-4 gap-8 mt-6">
        <div class="border-b md:border-none pb-4 md:pb-0">
          <h4 class="font-bold mb-2" data-i18n="useful_links">Liens Utiles</h4>
          <ul class="text-sm space-y-1">
            <li class="hover:text-[#a9cf46] transition-colors"><a href="about.php" data-i18n="about">À Propos</a></li>
            <li class="hover:text-[#a9cf46] transition-colors"><a href="poles.html" data-i18n="poles">Nos Pôles</a></li>
            <li class="hover:text-[#a9cf46] transition-colors"><a href="projets.html" data-i18n="projects">Nos Projets</a></li>
        </ul>
        </div>
        <div class="border-b md:border-none pb-4 md:pb-0">
          <h4 class="font-bold mb-2" data-i18n="useful_links">Liens Utiles</h4> 
          <ul class="text-sm space-y-1">
            <li class="hover:text-[#a9cf46] transition-colors"><a href="blog.php" data-i18n="blog">Blog</a></li>
            <li class="hover:text-[#a9cf46] transition-colors"><a href="portfolios.php" data-i18n="portfolios">Portfolio</a></li>
            <li class="hover:text-[#a9cf46] transition-colors"><a href="contact.html" data-i18n="contact">Contact</a></li>
          </ul>
        </div>
        <div class="border-b md:border-none pb-4 md:pb-0">
          <h4 class="font-bold mb-2" data-i18n="others">Autres</h4>
          <ul class="text-sm space-y-1">
            <li class="hover:text-[#a9cf46] transition-colors"><a href="recrutement.html" data-i18n="join_us">Nous Rejoindre</a></li>
            <li class="hover:text-[#a9cf46] transition-colors"><a href="consultants.php" data-i18n="consultant_recruitment">Recrutement Consultant</a></li>
            <li class="hover:text-[#a9cf46] transition-colors"><a href="ranch.php" data-i18n="ranch">Notre Ranch</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-bold mb-2" data-i18n="newsletter">Newsletter</h4>
          <form id="newsletter-form" class="mt-6 px-4">
            <input type="email" name="newsletter_email" placeholder="Votre email" data-i18n-placeholder="your_email" required class="w-full px-3 py-2 rounded mb-2 text-black">
            <button type="submit" class="bg-[#a9cf46] w-full py-2 rounded" data-i18n="subscribe">S'inscrire</button>
            <p id="newsletter-msg" class="text-green-600 mt-2 hidden" data-i18n="newsletter_success">Merci pour votre inscription !</p>
          </form>
        </div>
      </div>
      <div class="flex flex-col md:flex-row justify-between items-center border-t border-b border-white/20 py-6 mt-6 text-xs text-white/60">
        <!-- Numéro de téléphone à gauche -->
        <div class="mb-2 md:mb-0">
          <a href="tel:+2252722332336" class="text-white font-bold hover:text-[#a9cf46] transition-colors">
            +225 27 22 332 336
          </a>
        </div>
        <!-- Copyright à droite -->
        <div data-i18n="copyright">
          © 2025 Agriforland. Tous droits réservés.
        </div>
      </div>
    </div>
  </footer>

<!-- Script JS AJAX -->
<script>
  // Language translations
  const translations = {
    fr: {
      title: "Agriforland - Nos Projets",
      join_us: "Nous Rejoindre",
      contact_us: "Nous Contacter",
      home: "Accueil",
      about: "À Propos",
      poles: "Nos Pôles",
      projects: "Nos Projets",
      blog: "Blog",
      portfolios: "Portfolio",
      our_projects: "Nos projets",
      search_project: "Rechercher un projet...",
      all: "Tous",
      agroforestry: "Agroforesterie",
      mapping: "Mapping/Cartographie",
      communication: "Communication",
      livestock: "Élevage",
      sustainable_development: "Développement Durable",
      ongoing: "En Cours",
      reforestation: "Reforestation",
      follow_us: "SUIVEZ-NOUS",
      useful_links: "Liens Utiles",
      recruitment: "Recrutement",
      consultant_recruitment: "Recrutement Consultant",
      our_group: "Notre Groupe",
      our_stories: "Nos Histoires",
      our_values: "Nos Valeurs",
      our_missions: "Nos Missions",
      our_teams: "Nos Équipes",
      our_ecofarms: "Nos Écofermes",
      others: "Autres",
      mapping_link: "Cartographie",
      our_partners: "Nos Partenaires",
      newsletter: "Newsletter",
      your_email: "Votre email",
      subscribe: "S'inscrire",
      newsletter_success: "Merci pour votre inscription !",
      copyright: "© 2025 Agriforland. Tous droits réservés.",
      partner: "Partenaire",
      start_date: "Date de démarrage",
      zones: "Zones",
      duration: "Durée",
      keywords: "Mots-clés",
      read_more: "Lire plus"
    },
    en: {
      title: "Agriforland - Our Projects",
      join_us: "Join Us",
      contact_us: "Contact Us",
      home: "Home",
      about: "About",
      poles: "Our Divisions",
      projects: "Our Projects",
      blog: "Blog",
      portfolios: "Portfolio",
      our_projects: "Our projects",
      search_project: "Search for a project...",
      all: "All",
      agroforestry: "Agroforestry",
      mapping: "Mapping/Cartography",
      communication: "Communication",
      livestock: "Livestock",
      sustainable_development: "Sustainable Development",
      ongoing: "Ongoing",
      reforestation: "Reforestation",
      follow_us: "FOLLOW US",
      useful_links: "Useful Links",
      recruitment: "Recruitment",
      consultant_recruitment: "Consultant Recruitment",
      our_group: "Our Group",
      our_stories: "Our Stories",
      our_values: "Our Values",
      our_missions: "Our Missions",
      our_teams: "Our Teams",
      our_ecofarms: "Our Ecofarms",
      others: "Others",
      mapping_link: "Mapping",
      our_partners: "Our Partners",
      newsletter: "Newsletter",
      your_email: "Your email",
      subscribe: "Subscribe",
      newsletter_success: "Thank you for subscribing!",
      copyright: "© 2025 Agriforland. All rights reserved.",
      partner: "Partner",
      start_date: "Start Date",
      zones: "Zones",
      duration: "Duration",
      keywords: "Keywords",
      read_more: "Read more"
    }
  };

  // Language switcher
  const languageSelectors = document.querySelectorAll('#language-selector, #language-selector-mobile');
  const languageIcons = document.querySelectorAll('#language-icon, #language-icon-mobile');

  function updateContent(lang) {
    document.querySelectorAll('[data-i18n]').forEach(element => {
      const key = element.getAttribute('data-i18n');
      element.textContent = translations[lang][key] || element.textContent;
    });
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
      const key = element.getAttribute('data-i18n-placeholder');
      element.placeholder = translations[lang][key] || element.placeholder;
    });
    document.documentElement.lang = lang;
    languageIcons.forEach(icon => icon.src = `images/${lang}.webp`);
    languageSelectors.forEach(selector => selector.value = lang);
    
    // Actualiser l'affichage des projets avec la nouvelle langue
    if (typeof afficherProjets === 'function') {
      afficherProjets(projets, 1);
    }
  }

  languageSelectors.forEach(selector => {
    selector.addEventListener('change', (e) => {
      const selectedLang = e.target.value;
      updateContent(selectedLang);
      localStorage.setItem('language', selectedLang);
    });
  });

  // Set default language
  const savedLang = localStorage.getItem('language') || 'fr';
  updateContent(savedLang);

  // Contact form
  const contactForm = document.getElementById('contact-form');
  const contactMsg = document.getElementById('contact-message');

  if (contactForm) {
    contactForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(contactForm);
      const response = await fetch('back/mail.php', {
        method: 'POST',
        body: formData
      });

      if (response.ok) {
        contactMsg.classList.remove('hidden');
        contactMsg.classList.remove('text-red-600');
        contactMsg.classList.add('text-green-600');
        contactMsg.textContent = "Message envoyé avec succès !";
        contactForm.reset();
      } else {
        contactMsg.classList.remove('hidden');
        contactMsg.classList.remove('text-green-600');
        contactMsg.classList.add('text-red-600');
        contactMsg.textContent = "Une erreur est survenue. Veuillez réessayer.";
      }
    });
  }

  // Newsletter form
  const newsletterForm = document.getElementById('newsletter-form');
  const newsletterMsg = document.getElementById('newsletter-msg');

  newsletterForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const formData = new FormData(newsletterForm);
    const response = await fetch('back/newsletter.php', {
      method: 'POST',
      body: formData
    });

    if (response.ok) {
      newsletterMsg.classList.remove('hidden');
      newsletterMsg.classList.remove('text-red-600');
      newsletterMsg.classList.add('text-green-600');
      newsletterMsg.textContent = translations[languageSelectors[0].value].newsletter_success;
      newsletterForm.reset();
    } else {
      newsletterMsg.classList.remove('hidden');
      newsletterMsg.classList.remove('text-green-600');
      newsletterMsg.classList.add('text-red-600');
      newsletterMsg.textContent = "Erreur lors de l'inscription.";
    }
  });
</script>
<script src="js/script.js"></script>
<!-- JS pour activer le menu mobile + lien actif -->
<script>
  // Toggle menu mobile
  const toggle = document.getElementById('menu-toggle');
  const menu = document.getElementById('mobile-menu');

  toggle.addEventListener('click', () => {
    menu.classList.toggle('hidden');
  });

  // Ajout de la classe active automatiquement
  const currentPage = window.location.pathname.split("/").pop();
  document.querySelectorAll('.nav-link').forEach(link => {
    const href = link.getAttribute('href');
    if (href === 'projets.html') {
      link.classList.add('text-[#a9cf46]', 'border-b-2', 'border-[#a9cf46]', 'font-semibold');
    }
  });
</script>
<script>
  window.addEventListener("load", function () {
    const preloader = document.getElementById('preloader');
    preloader.classList.add('opacity-0', 'pointer-events-none', 'transition-opacity', 'duration-500');
    setTimeout(() => preloader.remove(), 500);
  });
</script>
</body>
</html>